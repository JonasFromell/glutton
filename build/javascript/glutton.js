!function(t){var e;return e={},e.Variations={"default":{onCreating:function(e){var n,r;return n=t("<span />"),n.html(e.html()),n.addClass("content"),r=t("<span />"),r.addClass("progress"),e.html(""),e.append(n),e.append(r)},onCreated:function(){},onStart:function(t){return t.addClass("progressing")},onSucceeded:function(t){return t.addClass("succeeded"),t.bind("animationend webkitAnimationEnd",function(){return t.removeClass("succeeded")}),t.removeClass("progressing")},onFailed:function(t){return t.addClass("failed"),t.bind("animationend webkitAnimationEnd",function(){return t.removeClass("failed")}),t.removeClass("progressing")},onProgressed:function(t,e){var n;return n=t.find(".progress"),n.width(700*e+"%")},onResetting:function(t){var e;return e=t.find(".progress"),e.width(0)},onReset:function(){}}},e.Core=function(){function n(n,r){this.settings=t.extend({},e.Variations["default"],e.Variations[r]),this.$element=t(n),this.$element.on("creating.glutton",function(t){return function(){return t.settings.onCreating(t.$element)}}(this)),this.$element.on("created.glutton",function(t){return function(){return t.settings.onCreated(t.$element)}}(this)),this.$element.on("resetting.glutton",function(t){return function(){return t.settings.onResetting(t.$element)}}(this)),this.$element.on("reset.glutton",function(t){return function(){return t.settings.onReset(t.$element)}}(this)),this.$element.on("start.glutton",function(t){return function(){return t.settings.onStart(t.$element)}}(this)),this.$element.on("succeeded.glutton",function(t){return function(){return t.settings.onSucceeded(t.$element)}}(this)),this.$element.on("failed.glutton",function(t){return function(){return t.settings.onFailed(t.$element)}}(this)),this.$element.on("progressed.glutton",function(t){return function(e,n){return t.settings.onProgressed(t.$element,n)}}(this)),this.create()}return n.prototype.create=function(){return this.$element.trigger("creating.glutton",[this.$element]),this.$element.trigger("created.glutton",[this.$element])},n.prototype.start=function(t){var e;return this.$element.trigger("start.glutton"),this.$element.prop("disabled",!0),e=t(),e.done(function(t){return function(e){return t.$element.prop("disabled",!1),t.$element.trigger("succeeded.glutton",[e]),t.reset()}}(this)),e.fail(function(t){return function(e){return t.$element.prop("disabled",!1),t.$element.trigger("failed.glutton",[e]),t.reset()}}(this)),e.progress(function(t){return function(e,n){return e/=n,t.$element.trigger("progressed.glutton",[e])}}(this))},n.prototype.reset=function(){return this.$element.trigger("resetting.glutton"),this.$element.trigger("reset.glutton")},n}(),t.fn.glutton=function(n,r){return this.each(function(){var i,o;return i=t(this),o=i.data("glutton"),o||i.data("glutton",o=new e.Core(this)),"string"==typeof n?o[n](r):void 0})},t.fn.glutton.Constructor=e.Core}($);